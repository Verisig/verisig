<?xml version="1.0" encoding="iso-8859-1"?>
<sspaceex xmlns="http://www-verimag.imag.fr/xml-namespaces/sspaceex" version="0.2" math="SpaceEx">
  <component id="plant">
    <param name="x1" type="real" local="true" d1="1" d2="1" dynamics="any" controlled="false" />
    <param name="x2" type="real" local="true" d1="1" d2="1" dynamics="any" controlled="false" />
    <param name="x3" type="real" local="true" d1="1" d2="1" dynamics="any" controlled="false" />
    <param name="clock" type="real" local="true" d1="1" d2="1" dynamics="any" controlled="false" />
    <param name="_f1" type="real" local="true" d1="1" d2="1" dynamics="any" controlled="false" />
    <param name="_f2" type="real" local="true" d1="1" d2="1" dynamics="any" controlled="false" />
    <param name="reward" type="real" local="true" d1="1" d2="1" dynamics="any" controlled="false" />
    <param name="k" type="real" local="true" d1="1" d2="1" dynamics="any" controlled="false" />
    <param name="max_speed" type="real" local="false" d1="1" d2="1" dynamics="const" />
    <param name="min_speed" type="real" local="false" d1="1" d2="1" dynamics="const" />
    <param name="power" type="real" local="false" d1="1" d2="1" dynamics="const" />
    <param name="goal_position" type="real" local="false" d1="1" d2="1" dynamics="const" />
    <param name="min_position" type="real" local="false" d1="1" d2="1" dynamics="const" />
    <location id="1" name="mode1" x="329.0" y="202.0" width="290.0" height="142.0">
      <invariant>clock &lt;= 1</invariant>
      <flow>x1' == 0 &amp;
x2' == 0 &amp;
x3' == _f1 * power - 0.0025 * cos(3 * x1) &amp;
reward' == 0 &amp;

clock' == 1</flow>
    </location>
    <location id="2" name="mode2" x="1102.0" y="200.0" width="160.0" height="152.0">
      <invariant>clock &lt;= 0</invariant>
      <flow>x1' == 0 &amp;
x2' == 0 &amp;
x3' == 0 &amp;
reward' == 0 &amp;
clock' == 1</flow>
    </location>
    <location id="3" name="mode3" x="1100.0" y="617.0" width="124.0" height="138.0">
      <invariant>clock &lt;= 0</invariant>
      <flow>x1' == 0 &amp;
x2' == 0 &amp;
x3' == 0 &amp;
reward' == 0 &amp;
clock' == 1</flow>
    </location>
    <location id="4" name="DNN" x="339.0" y="720.0" width="78.0" height="64.0" />
    <transition source="1" target="2">
      <guard>clock = 1 &amp;
x2 + x3 &lt;= max_speed &amp;
x2 + x3 &gt;= min_speed</guard>
      <assignment>x1 := x1 + x2 + x3 &amp; 
x2 := x2 + x3 &amp;
x3 := x3 &amp;
clock := 0 &amp;
reward := reward</assignment>
      <labelposition x="-87.0" y="-121.0" width="170.0" height="154.0" />
      <middlepoint x="747.5" y="247.0" />
    </transition>
    <transition source="2" target="3">
      <guard>clock = 0 &amp;
x1 &gt;= goal_position</guard>
      <assignment>reward := reward + 100</assignment>
      <labelposition x="-16.0" y="-37.0" width="174.0" height="98.0" />
    </transition>
    <transition source="2" target="4">
      <guard>clock = 0 &amp;
x1 &gt;= min_position &amp;
x1 &lt;= goal_position</guard>
      <assignment>_f1 := x1 &amp;
_f2 := x2 &amp;
clock := 0</assignment>
      <labelposition x="-38.0" y="-14.0" width="154.0" height="118.0" />
      <middlepoint x="786.5" y="608.0" />
    </transition>
    <transition source="2" target="4">
      <guard>clock = 0 &amp;
x1 &lt;= min_position</guard>
      <assignment>_f1 := min_position &amp;
_f2 := 0 &amp;
x1 := min_position &amp;
x2 := 0 &amp;
x3 := 0 &amp;
clock := 0</assignment>
      <labelposition x="-228.0" y="-97.0" width="180.0" height="158.0" />
      <middlepoint x="718.0" y="548.5" />
    </transition>
    <transition source="4" target="1">
      <guard>clock = 0</guard>
      <assignment>x3 := 0 &amp;
reward := reward - 0.1 * _f1 * _f1 &amp;
clock := 0 &amp;
k := k + 1</assignment>
      <labelposition x="-223.0" y="13.0" width="228.0" height="122.0" />
      <middlepoint x="327.5" y="423.5" />
    </transition>
    <transition source="1" target="2">
      <guard>clock = 1 &amp;
x2 + x3 &gt;= max_speed</guard>
      <assignment>x1 := x1 + max_speed &amp; 
x2 := max_speed &amp;
clock := 0</assignment>
      <labelposition x="7.0" y="-95.0" width="252.0" height="140.0" />
      <middlepoint x="707.5" y="101.0" />
    </transition>
    <transition source="1" target="2">
      <guard>clock = 1 &amp;
x2 + x3 &lt;= min_speed</guard>
      <assignment>x1 := x1 + min_speed &amp; 
x2 := min_speed &amp;
clock := 0</assignment>
      <labelposition x="-81.0" y="-13.0" width="172.0" height="110.0" />
      <middlepoint x="715.5" y="321.0" />
    </transition>
  </component>
  <component id="constants">
    <bind component="plant" as="plant_1" x="258.0" y="103.0" width="106.0" height="78.0">
      <map key="max_speed">0.07</map>
      <map key="min_speed">-0.07</map>
      <map key="power">0.0015</map>
      <map key="goal_position">0.45</map>
      <map key="min_position">-1.2</map>
    </bind>
  </component>
</sspaceex>

